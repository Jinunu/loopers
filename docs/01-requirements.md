# 요구사항 정의서

## 상품

### 상품 목록

\[유저 스토리](사용자 관점)
- 사용자는 상품을 목록을 볼 수 있다.

\[기능 흐름] (시스템 관점)

\- 목적 : 사용자는 상품 목록을 볼 수 있다.

\- Actor: 일반 사용자
\- 주요 시나리오:
- 사용자가 상품 목록을 요청 한다.
- 시스템은 상품 목록을 반환 한다.
~~- 사용자가 상품 목록 정렬을 요청 한다.~~
~~- 시스템은 요청한 정렬 상태의 상품 목록을 반환한다.~~
~~- 사용자가 원하는 페이지의 상품 목록을 요청 한다.~~
~~- 시스템은 해당 페이지의 상품 목록을 반환 한다.~~
~~- 사용자가 페이지당 보고 싶은 상품갯수를 요청 한다.~~
~~- 시스템은 요청한 페이지당 상품의 수 만큼 조회 후 반환 한다.~~
\- 시스템 동작(낙관적)
- 상품 데이터 목록 조회.
- 사용자가 요청한 정렬된 상품 목록 조회
~~- 사용자가 요청한 페이지 번호의 상품 목록을 조회.~~
~~- 사용자가 페이지당 요청한 상품의 수 만큼 상품 목록 조회.~~
\- 시스템 동작(비관적)
- 요청한 상태의 상품 목록이 존재 하지 않는 경우 -> 404 NOT FOUND
~~- 존재 하지 않는 브랜드의 상품 목록을 요청한 경우 -> 404 NOT FOUNT / 400 BAD REQUEST~~
~~- 존재 하지 않는 페이지의 상품 목록을 요청한 경우 ->~~

  

### 상품 상세

\[유저 스토리](사용자 관점)
- 사용자는 상품 상세 정보를 볼 수 있다.

\[기능 흐름] (시스템 관점)

\- 목적 : 사용자는 상품 상세 정보를 볼 수 있어야 한다.

\- Actor: 일반 사용자

\- 주요 시나리오:
- 사용자가 요청한 상품 상세 정보를 요청한다.
- 시스템은 요청한 상품 상세 정보를 반환 한다.

\- 시스템 동작(낙관적)
- 요청한 상품 ID 검증
- DB에서 요청한 상품이 존재 하는지 검증
- 요청한 상품 데이터 반환

\- 시스템 동작(비관적)
- 요청한 상품이 존재 하지 않는 경우 -> 404
---

## 브랜드

### 브랜드 정보 조회

\[유저 스토리](사용자 관점)
- 사용자는 브랜드 정보를 조회 한다.

\[기능 흐름] (시스템 관점)

\- 목적 : 브랜드 정보 조회

\- Actor: 일반 사용자

\- 주요 시나리오:
- 사용자가 브랜드별 정보를 요청 한다.
- 시스템은 요청한 브랜드의 정보를 반환 한다.
\- 시스템 동작(낙관적)
- 요청한 브랜드 ID 검증
- DB에서 요청한 브랜드 ID의 정보가 존재 하는지 검증
- 브랜드의 정보 반환.

\- 시스템 동작(비관적)
- 요청한 브랜드가 존재 하지 않는 경우 -> 404

----
## 좋아요


###  등록

\[유저 스토리](사용자 관점)
- 인증된 사용자는 상품에 대해서 좋아요를 등록 할 수 있다.
- 인증된 사용자는 좋아요를 등록한 상품에 대해서 좋아요를 취소 할 수 있다.
- 인증된 사용자는 본인이 좋아요를 등록한 상품 목록을 조회 할 수 있다.

\[기능 흐름] (시스템 관점)

\- 목적 : 마음에 드는 상품을 기록 하는 목적 ?

\- Actor: 인증된 사용자

\- 주요 시나리오:
- 인증된 사용자가 마음에 드는 상품에 좋아요를 표시 할 수 있다.
- 시스템은 회원이 요청한 상품에 좋아요를 등록 한다.
- 인증된 사용자는 본인이 등록한 상품의 좋아요를 취소 할 수 있다.
- 시스템은 회원이 좋아요를 표시한 상품의 좋아요를 삭제 한다.

\- 시스템 동작(낙관적)
- 회원 ID와 상품 ID를 받아서 DB에 저장
- 회원 ID와 상품 ID를 받아서 DB에서 삭제

\- 시스템 동작(비관적)
- 사용자와 각 상품간 좋아요가 중복 등록 된다 -> 중복 에러   
- 삭제된 상태의 좋아요를 한번 더 삭제 한다 -> NOT EXIST

\- 체크리스트
- 사용자와 각 상품간 좋아요가 한번만 등록 되어야 한다.
- 상품에 대한 좋아요 추가/해제 기능은 멱등하게 동작 하는지.
- 사용자 요청에 대한 응답이 제대로 반환 되는지.



### 삭제

\[기능 흐름] (시스템 관점)

\- 목적 : 등록한 상품의 좋아요를 삭제

\- Actor: 일반 사용자

\- 주요 시나리오:
- 인증된 사용자는 본인이 등록한 상품의 좋아요를 취소 할 수 있다.
- 시스템은 회원이 좋아요를 표시한 상품의 좋아요를 삭제 한다.

\- 시스템 동작(낙관적)
- 회원 ID와 상품 ID를 받아서 DB에서 삭제

\- 시스템 동작(비관적)
- 삭제된 상태의 좋아요를 한번 더 삭제 한다 -> NOT EXIST 

\- 체크리스트
- 상품에 대한 좋아요 추가/해제 기능은 멱등하게 동작 하는지.
- 사용자 요청에 대한 응답이 제대로 반환 되는지.




### 사용자가 좋아요를 체크한 상품 목록 조회

\[유저 스토리](사용자 관점)
-  인증된 사용자는 본인이 좋아요를 등록한 상품 목록을 조회 할 수 있다.

\[기능 흐름] (시스템 관점)

\- 목적 :  회원의 좋아요를 등록한 상품 목록을 볼 수 있다.

\- Actor: 인증된 사용자

\- 주요 시나리오:
- 인증된 사용자는 본인이 좋아요를 등록한 상품 목록을 조회 한다.
- 시스템은 회원이 좋아요를 표시한 상품의 목록들을 반환 한다.

\- 시스템 동작(낙관적)

- 회원 ID와 상품 ID를 받아서 DB에서 조회.

\- 시스템 동작(비관적)

- 조회된 데이터가 없는 경우 -> NO DATA

\- 체크리스트
- 사용자 요청에 대한 응답이 제대로 반환 되는지.

---

## 주문


### 주문 생성

\[유저 스토리](사용자 관점)

- 사용자는 상품을 주문 할 수 있다.

\[기능 흐름] (시스템 관점)

- 시스템은 주문 데이터를 생성 한다.

\-Actor 인증된 사용자

- 주요 시나리오 :
- 인증된 사용자는 상품을 주문 한다.
- 시스템은 인증된 사용자의 정보와 상품 정보로 주문을 저장 한다.

\- 시스템 동작 (낙관적)

- 사용자 ID와 상품 정보로 주문을 생성 한다.
- 주문 상품 만큼 재고를 차감 한다.
- 주문 금액 만큼 사용자의 포인트를 차감 한다.

\- 시스템 동작 (비관적)

- 유효 하지 않은 사용자 또는 상품 정보인 경우 -> 400 Bad
- 주문 금액이 포인트 보다 큰 경우 주문이 실패 한다 ->  403 Bad



### 주문 목록 조회

\[유저 스토리](사용자 관점)

- 인증된 사용자는 본인이 주문한 목록을 조회 할 수 있다.

\[기능 흐름] (시스템 관점)

- 시스템은 인증된 사용자의 주문 목록 정보를 반환 한다.
\- Actor 인증된 사용자

\- 주요 시나리오 :

- 인증된 사용자는 본인이 주문한 주문 목록을 조회 한다.
- 시스템은 인증된 사용자의 주문한 주문 목록 정보를 반환 한다.

\- 시스템 동작 (낙관적)

- 인증된 사용자의ID로 주문 목록 데이터를 조회

\- 시스템 동작 (비관적)
- 사용자ID가 유효 하지 않는 경우 -> 400 Bad Request  
- 주문 목록 데이터가 없는 경우 -> 404 Not Found



### 주문 상세 조회

\[유저 스토리](사용자 관점)
- 인증된 사용자는 본인의 주문 상세 정보를 확인 한다.
\[기능 흐름] (시스템 관점)
- 시스템은 인증된 사용자의 주문 상세 정보를 반환 한다.
Actor 인증된 사용자
\- 주요 시나리오 :
- 인증된 사용자는 본인의 주문 상세 정보를 확인 한다.
- 시스템은 인증된 사용자의 주문 상세 정보를 반환 한다.

\- 시스템 동작 (낙관적)

- 인증된 사용자의ID, 주문ID로 상품 정보를 조회 후 반환 한다.

\- 시스템 동작 (비관적)
- 사용자ID가 유효 하지 않는 경우 -> 400 Bad Request  
- 주문ID가  유효 하지 않는 경우 -> 400 Bad Request












